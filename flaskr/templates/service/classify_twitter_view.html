{% extends '/service/base_service.html' %}
{% block classifyTwitterActive %}active{%endblock%}
{% block content %}
  <div>
        <img src="{{ url_for('static', filename='images/clippers.png') }}"  style="width: 25%;
  height: 10%;  display: block;
  margin-left: auto;
  margin-right: auto;
  " ></img>
        <img src="{{ url_for('static', filename='images/lakers.png') }}"  style="width: 25%;
  height: 10%;  display: block;
  margin-left: auto;
  margin-right: auto;
 " ></img>


</div>
 {% block use_project %}
    <h2>Get a tweet of X or Y and we will see which is generated by who! You can change the tweets to make it a bit harder for us! </h2>
 {% endblock %}

    <form id='feedback_form'>

        <div class="container" style="text-align: center;">
            <h3 style="text-align:center; color:#F08080;"> Step 1 : Get the latest tweet from a user</h3>
            <div class="row">

                      <div class="col-md-4">
                          <label id='param_label' for="tweet_by_name_input"  >Enter a Tweeter username</label>
                          <input  style = ' display:inline-block;    vertical-align: top;'id='tweet_by_name_input' value=""></input>

                      </div>
                      <div class="col-md-2 ml-md-auto">
                               <button class="btn btn-primary" style = ' display:inline-block;    vertical-align: top;margin-top:10%;' onclick="clicked_get_tweet_button()" >Get Tweet</button>
                      </div>

                        <div class="col-md-4">
                            <label id='tweet_result' for="result_text"  >Latest Tweet Result</label>
                            <textarea   style = ' display:inline-block;    vertical-align: top;' id='result_text' disabled></textarea>
                        </div>
            </div>

            <h3 style="text-align:center; color:#F08080;margin-top:10%;"> Step 2 : Take a Clippers or Lakers tweet - modify it, and check how we classify  </h3>
            <div class="row" >

                <div class="col-md-4">
                    <label id='enter_text_for_classify' for="tweetToClassify"  >Enter Tweet Text</label>
                    <input  style = ' display:inline-block;    vertical-align: top;'id='tweetToClassify' name='tweet_to_classify'  ></input>

                </div>
                <div class="col-md-2 ml-md-auto">
                     <button class="btn btn-primary" style = 'display:inline-block;vertical-align: top;' onclick="clicked_classify_tweet_button()" >Send Tweet</button>
                </div>
    <!--                 <textarea style = ' display:inline-block;    vertical-align: top;' onclick="resultClassification" name='classification_result'>Result</textarea>-->

                <div class="col-4">
                    <h4 style="text-align:center">Tweet Classified As:</h4>
                    <div  >
                        <div class="form-check">
                             <input type="radio" id="Lakers" name="classification_result"  class="form-check-input" value=0  >

                             <label class="form-check-label" for="Lakers">Lakers</label>
                         </div>
                        <br>
                        <div class="form-check">
                          <input class="form-check-input" type="radio" name="classification_result" id="Clippers" value=1 >
                           <label class="form-check-label" for="Clippers">Clippers   </label>

                        </div>


                    </div>
                </div>
    <!--                <div class="form-check">-->
    <!--                       <label class="form-check-label" for="Clippers">Lakers   </label>-->
    <!--                     <input type="radio" id="Clippers" name="classification_result" class="form-check-input"  value=1 >-->

    <!--                </div>-->
    <!--                <div class="form-check">-->
    <!--                    <label class="form-check-label" for="Lakers" style="float:right;">Clippers-->
    <!--                    <input type="radio" id="Lakers" name="classification_result"  class="form-check-input" value=0  >-->
    <!--                    </label>-->

    <!--                </div>-->


                </div>

            <div class="row justify-content-center" >
                 <h3 style="text-align:center; color:#F08080;margin-top:10%;"> Step 3 :Help us improve! Give us feedback, was our tweet correct?</h3>

                 <div class="col-4" >
                      <label for="yes">Yes</label>
                      <input type="radio" id="yes" name="result_feedback" value=1 class="form-check-input" required ><br>
                       <label for="no">No</label>

                      <input type="radio" id="no" name="result_feedback" value=0 class="form-check-input" ><br>
                      <button type='submit' class="btn btn-success" style = ' display:inline-block;    vertical-align: top;'  >Give Feedback</button>
                 </div>


            </div>






        </div>
    </form>


   <div id="currentsStatsDivId">
        Here we display the current stats we have
    </div>



<script>
$(function() {


  $('#feedback_form').submit(function(event) {
    event.preventDefault();
    var form = $(this);
    new Promise((resolve,reject) => {
       $.ajax({
      type: 'post',
      url: '/twitter-classification/give-feedback-on-tweet-classification/',
      data: form.serialize()
    }).done(function(data) {
      // Optionally alert the user of success here...
      resolve(data);
    }).fail(function(data) {
      // Optionally alert the user of an error here...
       reject(data);

    })}).then(data => {alert(JSON.stringify(data))})
    .catch(err => {alert(JSON.stringify(err.responseText))});

    })


});


</script>
  {% endblock %}


